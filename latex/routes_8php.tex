\hypertarget{routes_8php}{\section{application/routes.php File Reference}
\label{routes_8php}\index{application/routes.\-php@{application/routes.\-php}}
}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classinternal_errors}{internal\-Errors}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{routes_8php_ae637063de80a26b996e3d7597151222d}{make\-Link} (\$relative\-U\-R\-L)
\item 
\hyperlink{routes_8php_a81c2a281705bdea55e55fc2d77bfab06}{redirect} (\$relative\-U\-R\-L)
\item 
\hyperlink{routes_8php_ace89ff6281e5cf5d9132d58569b2b924}{render} (\$template\-Name, \$template\-Variables=array())
\item 
\hyperlink{routes_8php_a527384284538fb8ac63450f0027671fb}{create\-H\-T\-M\-L\-For\-Section} (\$name, \$current\-Location)
\item 
\hyperlink{routes_8php_a91d35fad6018d1c52b104bae4778e865}{render\-\_\-section} (\$path, \$args=array(), \$sections, \$current\-Location)
\item 
\hyperlink{routes_8php_a51a38ab688a6d85e56ade85de7e728a5}{check\-Recommendation\-U\-R\-L} (\$application\-Hash\-Reference, \$reference\-Id)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{routes_8php_a8ceca98aa29914fd2479a84a8d2242fb}{if} (!isset(\$\-\_\-\-S\-E\-S\-S\-I\-O\-N))
\item 
\hyperlink{routes_8php_ada8b82c576630babb3a1cb52195d42e4}{if} (\$G\-L\-O\-B\-A\-L\-S\mbox{[}'S\-I\-T\-E\-M\-O\-D\-E'\mbox{]}==\char`\"{}D\-E\-V\-E\-L\-O\-P\-M\-E\-N\-T\char`\"{})
\item 
\hyperlink{routes_8php_adfb117f244076aa9bc269269f7e57403}{\$app}
\item 
\hyperlink{routes_8php_a100fbd0f04e9486463c95de08082748a}{\$\-G\-L\-O\-B\-A\-L\-S} \mbox{[}'app'\mbox{]} = \$app
\item 
\hyperlink{routes_8php_a6740149b50329e0dbdcf5e5e65cd2820}{\$authenticated}
\item 
\hyperlink{routes_8php_a261289a566c84f9572097e99ba423bc3}{\$authenticated\-Script}
\item 
\hyperlink{routes_8php_acbfa1794705527a35fc1a79313f81bb1}{\$application\-Not\-Submitted}
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{routes_8php_a51a38ab688a6d85e56ade85de7e728a5}{\index{routes.\-php@{routes.\-php}!check\-Recommendation\-U\-R\-L@{check\-Recommendation\-U\-R\-L}}
\index{check\-Recommendation\-U\-R\-L@{check\-Recommendation\-U\-R\-L}!routes.php@{routes.\-php}}
\subsubsection[{check\-Recommendation\-U\-R\-L}]{\setlength{\rightskip}{0pt plus 5cm}check\-Recommendation\-U\-R\-L (
\begin{DoxyParamCaption}
\item[{}]{\$application\-Hash\-Reference, }
\item[{}]{\$reference\-Id}
\end{DoxyParamCaption}
)}}\label{routes_8php_a51a38ab688a6d85e56ade85de7e728a5}
Check \hyperlink{class_recommendation}{Recommendation} U\-R\-L

Helper function to make sure the url is valid. Renders an error


\begin{DoxyParams}{Parameters}
{\em string} & applicaiton\-Hash\-Reference The hash value representing the application \\
\hline
{\em int} & reference\-Id The id of the reference\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\hypertarget{routes_8php_a527384284538fb8ac63450f0027671fb}{\index{routes.\-php@{routes.\-php}!create\-H\-T\-M\-L\-For\-Section@{create\-H\-T\-M\-L\-For\-Section}}
\index{create\-H\-T\-M\-L\-For\-Section@{create\-H\-T\-M\-L\-For\-Section}!routes.php@{routes.\-php}}
\subsubsection[{create\-H\-T\-M\-L\-For\-Section}]{\setlength{\rightskip}{0pt plus 5cm}create\-H\-T\-M\-L\-For\-Section (
\begin{DoxyParamCaption}
\item[{}]{\$name, }
\item[{}]{\$current\-Location}
\end{DoxyParamCaption}
)}}\label{routes_8php_a527384284538fb8ac63450f0027671fb}
Outputs H\-T\-M\-L for the associated section

Internal function only called by render\-\_\-section


\begin{DoxyParams}{Parameters}
{\em String} & name The section name to render \\
\hline
\end{DoxyParams}
\hypertarget{routes_8php_ae637063de80a26b996e3d7597151222d}{\index{routes.\-php@{routes.\-php}!make\-Link@{make\-Link}}
\index{make\-Link@{make\-Link}!routes.php@{routes.\-php}}
\subsubsection[{make\-Link}]{\setlength{\rightskip}{0pt plus 5cm}make\-Link (
\begin{DoxyParamCaption}
\item[{}]{\$relative\-U\-R\-L}
\end{DoxyParamCaption}
)}}\label{routes_8php_ae637063de80a26b996e3d7597151222d}
Converts a relative url to an absolute url


\begin{DoxyParams}{Parameters}
{\em String} & relative\-U\-R\-L The relative url to convert\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
String The absolute url 
\end{DoxyReturn}
\hypertarget{routes_8php_a81c2a281705bdea55e55fc2d77bfab06}{\index{routes.\-php@{routes.\-php}!redirect@{redirect}}
\index{redirect@{redirect}!routes.php@{routes.\-php}}
\subsubsection[{redirect}]{\setlength{\rightskip}{0pt plus 5cm}redirect (
\begin{DoxyParamCaption}
\item[{}]{\$relative\-U\-R\-L}
\end{DoxyParamCaption}
)}}\label{routes_8php_a81c2a281705bdea55e55fc2d77bfab06}
Redirects user to relative url


\begin{DoxyParams}{Parameters}
{\em String} & relative\-U\-R\-L The relative url to convert\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\hypertarget{routes_8php_ace89ff6281e5cf5d9132d58569b2b924}{\index{routes.\-php@{routes.\-php}!render@{render}}
\index{render@{render}!routes.php@{routes.\-php}}
\subsubsection[{render}]{\setlength{\rightskip}{0pt plus 5cm}render (
\begin{DoxyParamCaption}
\item[{}]{\$template\-Name, }
\item[{}]{\$template\-Variables = {\ttfamily array()}}
\end{DoxyParamCaption}
)}}\label{routes_8php_ace89ff6281e5cf5d9132d58569b2b924}
Renders a webpage

Wraps the default \$app-\/$>$\hyperlink{routes_8php_ace89ff6281e5cf5d9132d58569b2b924}{render()} function to provide global variables to every template


\begin{DoxyParams}{Parameters}
{\em String} & template\-Name The path to the template file relative to the templates directory \\
\hline
{\em Array} & template\-Variables Variables available in the templates \\
\hline
\end{DoxyParams}
\hypertarget{routes_8php_a91d35fad6018d1c52b104bae4778e865}{\index{routes.\-php@{routes.\-php}!render\-\_\-section@{render\-\_\-section}}
\index{render\-\_\-section@{render\-\_\-section}!routes.php@{routes.\-php}}
\subsubsection[{render\-\_\-section}]{\setlength{\rightskip}{0pt plus 5cm}render\-\_\-section (
\begin{DoxyParamCaption}
\item[{}]{\$path, }
\item[{}]{\$args = {\ttfamily array()}, }
\item[{}]{\$sections, }
\item[{}]{\$current\-Location}
\end{DoxyParamCaption}
)}}\label{routes_8php_a91d35fad6018d1c52b104bae4778e865}


\subsection{Variable Documentation}
\hypertarget{routes_8php_adfb117f244076aa9bc269269f7e57403}{\index{routes.\-php@{routes.\-php}!\$app@{\$app}}
\index{\$app@{\$app}!routes.php@{routes.\-php}}
\subsubsection[{\$app}]{\setlength{\rightskip}{0pt plus 5cm}\$app}}\label{routes_8php_adfb117f244076aa9bc269269f7e57403}
{\bfseries Initial value\-:}
\begin{DoxyCode}
= new \(\backslash\)Slim\(\backslash\)Slim(array(
    \textcolor{stringliteral}{'view'} => \textcolor{keyword}{new} \(\backslash\)Slim\(\backslash\)Extras\(\backslash\)Views\(\backslash\)Twig()
))
\end{DoxyCode}
\hypertarget{routes_8php_acbfa1794705527a35fc1a79313f81bb1}{\index{routes.\-php@{routes.\-php}!\$application\-Not\-Submitted@{\$application\-Not\-Submitted}}
\index{\$application\-Not\-Submitted@{\$application\-Not\-Submitted}!routes.php@{routes.\-php}}
\subsubsection[{\$application\-Not\-Submitted}]{\setlength{\rightskip}{0pt plus 5cm}\$application\-Not\-Submitted}}\label{routes_8php_acbfa1794705527a35fc1a79313f81bb1}
{\bfseries Initial value\-:}
\begin{DoxyCode}
= \textcolor{keyword}{function}() 
\{
    $application = \hyperlink{class_application_controller_ad3d52fe6c4ea40052562695780c3e28b}{ApplicationController::getActiveApplication}()
      ;

    
    \textcolor{keywordflow}{if}( $application->hasBeenSubmitted )
    \{
        \hyperlink{routes_8php_adfb117f244076aa9bc269269f7e57403}{$app}->flash(\textcolor{stringliteral}{'warning'}, \textcolor{stringliteral}{'Application already submitted'});
        \hyperlink{routes_8php_a81c2a281705bdea55e55fc2d77bfab06}{redirect}(\textcolor{stringliteral}{'/my-applications'});
    \}

    \textcolor{keywordflow}{return} $application->hasBeenSubmitted;
\}
\end{DoxyCode}
\hyperlink{class_application}{Application} submitted middleware check

Validate that application has not already been submitted

\begin{DoxyReturn}{Returns}
bool True if user is logged in, otherwise false 
\end{DoxyReturn}
\hypertarget{routes_8php_a6740149b50329e0dbdcf5e5e65cd2820}{\index{routes.\-php@{routes.\-php}!\$authenticated@{\$authenticated}}
\index{\$authenticated@{\$authenticated}!routes.php@{routes.\-php}}
\subsubsection[{\$authenticated}]{\setlength{\rightskip}{0pt plus 5cm}\$authenticated}}\label{routes_8php_a6740149b50329e0dbdcf5e5e65cd2820}
{\bfseries Initial value\-:}
\begin{DoxyCode}
= \textcolor{keyword}{function}() use (\hyperlink{routes_8php_adfb117f244076aa9bc269269f7e57403}{$app}) 
\{
    $isLoggedIn = \hyperlink{class_applicant_controller_abf63243ec5c49ad4edba2828e58c4508}{ApplicantController::applicantIsLoggedIn}();
    \textcolor{keywordflow}{if}( !$isLoggedIn ) 
    \{
        \hyperlink{routes_8php_a81c2a281705bdea55e55fc2d77bfab06}{redirect}(\textcolor{stringliteral}{'/login'});
    \}
    \textcolor{keywordflow}{return} $isLoggedIn;
\}
\end{DoxyCode}
Generic authentication middleware function

Validates that the user is logged in. Otherwise redirects to the login page

\begin{DoxyReturn}{Returns}
bool True if user is logged in, otherwise false 
\end{DoxyReturn}
\hypertarget{routes_8php_a261289a566c84f9572097e99ba423bc3}{\index{routes.\-php@{routes.\-php}!\$authenticated\-Script@{\$authenticated\-Script}}
\index{\$authenticated\-Script@{\$authenticated\-Script}!routes.php@{routes.\-php}}
\subsubsection[{\$authenticated\-Script}]{\setlength{\rightskip}{0pt plus 5cm}\$authenticated\-Script}}\label{routes_8php_a261289a566c84f9572097e99ba423bc3}
{\bfseries Initial value\-:}
\begin{DoxyCode}
= \textcolor{keyword}{function}() use (\hyperlink{routes_8php_adfb117f244076aa9bc269269f7e57403}{$app}) 
\{
    $isLoggedIn = \hyperlink{class_applicant_controller_abf63243ec5c49ad4edba2828e58c4508}{ApplicantController::applicantIsLoggedIn}();
    \textcolor{keywordflow}{if}( !$isLoggedIn ) 
    \{
        echo \textcolor{stringliteral}{"Please login again"};
        exit();
    \}
    \textcolor{keywordflow}{return} $isLoggedIn;
\}
\end{DoxyCode}
Script-\/based authentication middleware function

Does the same as \$authenticated except displays an error message

\begin{DoxyReturn}{Returns}
bool$|$void True if user is logged in, otherwise void 
\end{DoxyReturn}
\hypertarget{routes_8php_a100fbd0f04e9486463c95de08082748a}{\index{routes.\-php@{routes.\-php}!\$\-G\-L\-O\-B\-A\-L\-S@{\$\-G\-L\-O\-B\-A\-L\-S}}
\index{\$\-G\-L\-O\-B\-A\-L\-S@{\$\-G\-L\-O\-B\-A\-L\-S}!routes.php@{routes.\-php}}
\subsubsection[{\$\-G\-L\-O\-B\-A\-L\-S}]{\setlength{\rightskip}{0pt plus 5cm}\$G\-L\-O\-B\-A\-L\-S\mbox{[}'app'\mbox{]} = \$app}}\label{routes_8php_a100fbd0f04e9486463c95de08082748a}
\hypertarget{routes_8php_a8ceca98aa29914fd2479a84a8d2242fb}{\index{routes.\-php@{routes.\-php}!if@{if}}
\index{if@{if}!routes.php@{routes.\-php}}
\subsubsection[{if}]{\setlength{\rightskip}{0pt plus 5cm}if(!isset(\$\-\_\-\-S\-E\-S\-S\-I\-O\-N))}}\label{routes_8php_a8ceca98aa29914fd2479a84a8d2242fb}
Graduate \hyperlink{class_application}{Application} Version 2.\-0  Tim Westbaker  10-\/16-\/12 \hypertarget{routes_8php_ada8b82c576630babb3a1cb52195d42e4}{\index{routes.\-php@{routes.\-php}!if@{if}}
\index{if@{if}!routes.php@{routes.\-php}}
\subsubsection[{if}]{\setlength{\rightskip}{0pt plus 5cm}if(\$G\-L\-O\-B\-A\-L\-S\mbox{[}'S\-I\-T\-E\-M\-O\-D\-E'\mbox{]}==\char`\"{}D\-E\-V\-E\-L\-O\-P\-M\-E\-N\-T\char`\"{})}}\label{routes_8php_ada8b82c576630babb3a1cb52195d42e4}
